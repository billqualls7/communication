# 新松四轮底盘通信协议

**ros版本**

TCP协议 

|  底盘IP地址   | 端口号 |
| :-----------: | :----: |
| 192.168.0.140 |  1234  |



执行命令

```bash
rosrun comm_ros comm_ros
```

- 订阅cmd_vel
- 发布odom



获取机器人底层里程计需下发查询指令，程序每隔50ms查询一次 对应odom发布频率为20HZ 



消息头固定20字节

采用小端模式

速度控制接口单位为mm/s

**机器人状态信息查询**

```bash
05 0a 05 0a 01 03 09 00 00 00 00 01 00 01 00 00 00 00 00 00
```

返回58字节

```bash
05 0A 05 0A 01 03 0D 00 00 26 00 01 00 01 19 00 00 00 00 30 00 00 00 3E 00 00 00 01 36 C3 EE FF B5 4A 2D 00 08 EE EF FF 81 42 2D 00 12 C7 45 45 8F 2D 2E 45 3E 4A 20 40 00 00 
```

**机器人控制切换**

切换手动

```bash
05 0A 05 0A 01 17 0A 00 00 01 00 01 00 01 01 00 00 00 00 1C 01
```

切换自动

```bash
05 0A 05 0A 01 17 0A 00 00 01 00 01 00 01 02 00 00 00 00 1F 02
```

发布速度

```
05 0A 05 0A 01 13 0A 00 00 0C 00 01 00 01 B9 00 00 00 00 AD 43 FA 00 00 00 00 00 00 00 00 00 00
```

雷达地址：192.168.0.9
